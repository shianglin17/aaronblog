# ADR-001: 採用 SQLite 作為生產環境資料庫

## Status
Accepted - 2025年6月23日

## Context
個人部落格系統部署在 GCP e2-micro 免費方案 (1 vCPU, 1GB RAM)，需要選擇適合的資料庫方案。專案特性：個人部落格、預期 < 1000 篇文章、讀多寫少。

**相關 Commit**: `d27b873` - "refactor: 開發環境使用 SQLite"

## Decision
採用 **SQLite** 作為生產環境資料庫，替代 MySQL 方案。

**選擇理由**:
- **記憶體效率**: 無需獨立程序，節省 200-300MB 記憶體
- **零額外成本**: 避免 Google Cloud SQL 費用，保持免費額度
- **簡化部署**: 單一檔案資料庫，備份和遷移簡單
- **效能適配**: 個人部落格讀多寫少場景，效能充足

## Consequences

### ✅ 正面影響
- **記憶體節省**: MySQL 方案 ~850MB → SQLite 方案 ~550MB
- **成本控制**: 完全在 GCP 免費額度內運行
- **運維簡化**: 無需管理資料庫服務和監控
- **備份容易**: 單一檔案備份，可直接下載

### ❌ 負面影響
- **併發限制**: 不適合高併發寫入場景
- **擴展性約束**: 流量增長時可能需要遷移
- **功能限制**: 缺少企業級特性（複製、叢集）

### 📊 量化效果
- 記憶體節省: 35% (300MB)
- 部署成本: $0 (避免資料庫服務費)
- 查詢回應時間: < 100ms
- 預期規模: 500 篇文章，< 50MB 資料庫大小

## 相關決策
- [ADR-002](002-redis-caching-strategy.md) - Redis 快取策略配合記憶體優化