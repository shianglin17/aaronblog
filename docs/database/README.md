# 資料庫設計文件

本目錄包含與資料庫設計相關的文件，幫助開發者了解系統的資料結構和關聯。

## 文件索引

- [資料庫設計概述](database-schema.md) - 詳細的資料庫表結構與關聯說明 ✅
- [資料遷移指南](migration-guide.md) - 資料庫遷移相關的說明 *(待完成)*
- [種子資料](seed-data.md) - 開發和測試用的初始資料 *(待完成)*

## 核心資料模型關係（已實作）

```
┌───────────┐      ┌───────────┐      ┌───────────┐
│   users   │──1:n─▶  articles ◀─n:1──│ categories│
└───────────┘      └─────┬─────┘      └───────────┘
                         │
                         │ n:m
                         ▼
                   ┌───────────┐
                   │    tags   │
                   └───────────┘
```

## 主要資料表

| 資料表名稱 | 說明 | 狀態 |
|----------|------|------|
| users | 使用者資料表，存儲系統用戶信息 | ✅ 已實作 |
| articles | 文章資料表，存儲部落格文章內容 | ✅ 已實作 |
| categories | 分類資料表，用於對文章進行分類 | ✅ 已實作 |
| tags | 標籤資料表，用於標記文章特徵 | ✅ 已實作 |
| article_tag | 文章與標籤的多對多關聯表 | ✅ 已實作 |
| personal_access_tokens | Sanctum API Token 存儲表 | ✅ 已實作 |
| sessions | 用戶 Session 資料表 | ✅ 已實作 |
| cache | 系統快取資料表 | ✅ 已實作 |

## 資料庫設計原則

1. **正規化設計**：遵循資料庫正規化原則減少資料冗餘
2. **索引優化**：根據查詢模式設計適當的索引
3. **外鍵約束**：維護資料完整性的外鍵關係
4. **軟刪除**：實作軟刪除機制確保資料可恢復
5. **時間戳記**：自動追蹤記錄的建立和更新時間

## 開發工具

- **遷移工具**：Laravel Migrations
- **ORM**：Eloquent ORM
- **測試數據生成**：Laravel Factories & Seeders

## 查看資料庫狀態

可使用以下 Artisan 命令檢查資料庫狀態：

```bash
# 查看遷移狀態
php artisan migrate:status

# 查看資料庫詳情
php artisan db:show
```

## 版本控制

資料庫變更通過遷移檔案進行版本控制，所有的結構變更應當建立相應的遷移檔案。 